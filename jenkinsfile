pipeline {
    agent any
    parameters {
        choice choices: ['Dev', 'Staging', 'Production'], description: "Choose which environment to push changes to.", name: "DEPLOY_TO"
	  gitParameter branch: '', branchFilter: '.*', defaultValue: '', listSize: '6', name: 'GitTags', quickFilterEnabled: false, selectedValue: 'TOP', sortMode: 'DESCENDING_SMART', tagFilter: '*', type: 'PT_TAG', useRepository: 'Github-Repo'
    }
	environment {
        DEPLOY_TO = "${params.DEPLOY_TO}"
	Tag = "${params.GitTags}"
    }
    stages {
		stage('Deploy to dev') {
		      when {
                   environment ignoreCase: true, name: "DEPLOY_TO", value: "dev";
            }
		   steps
		  {
				 script {
				    echo "deploying to dev"
				    echo "${Tag}"
				  }
	     	}
		}
    }		
    }
